<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Voice Search Popup</title>
</head>
<body>
  <button onclick="startVoice()">ðŸŽ¤ Báº¥m Ä‘á»ƒ nÃ³i</button>
  <p id="result">Káº¿t quáº£: ...</p>

  <script>
    function startVoice() {
      var recognition = new webkitSpeechRecognition();
      recognition.lang = "vi-VN";
      recognition.continuous = false;
      recognition.interimResults = false;

      recognition.onresult = function(event) {
        var transcript = event.results[0][0].transcript;
        document.getElementById("result").innerText = "Káº¿t quáº£: " + transcript;

        // Gá»­i káº¿t quáº£ vá» Axure (qua window.opener)
        if (window.opener) {
          window.opener.postMessage(transcript, "*");
        }

        // Tá»± Ä‘á»™ng Ä‘Ã³ng popup sau 1 giÃ¢y
        setTimeout(() => window.close(), 1000);
      };

      recognition.onerror = function(event) {
        alert("Lá»—i: " + event.error);
      };

      recognition.start();
    }
  </script>
</body>
</html>
