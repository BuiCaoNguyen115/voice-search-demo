<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Voice Search Demo</title>
</head>
<body>
  <button onclick="startVoice()">üé§ B·∫•m ƒë·ªÉ n√≥i</button>
  <p id="result">K·∫øt qu·∫£: ...</p>

  <script>
function startVoice() {
  try {
    var recognition = new webkitSpeechRecognition();
    recognition.lang = "vi-VN";
    recognition.continuous = false;
    recognition.interimResults = false;

    recognition.onresult = function(event) {
      var transcript = event.results[0][0].transcript;
      document.getElementById("result").innerText = "K·∫øt qu·∫£: " + transcript;
      window.parent.postMessage(transcript, "*");
    };

    recognition.onerror = function(event) {
      if (event.error === "not-allowed") {
        alert("Tr√¨nh duy·ªát kh√¥ng cho ph√©p truy c·∫≠p micro. H√£y ki·ªÉm tra quy·ªÅn trong ph·∫ßn c√†i ƒë·∫∑t.");
      } else {
        alert("L·ªói: " + event.error);
      }
    };

    recognition.start();
  } catch (e) {
    alert("Kh√¥ng th·ªÉ kh·ªüi ƒë·ªông nh·∫≠n di·ªán gi·ªçng n√≥i: " + e.message);
  }
}
    }
  </script>
</body>
</html>
